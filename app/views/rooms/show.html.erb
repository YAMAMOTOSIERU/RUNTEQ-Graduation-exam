<h1><%= @room.users.where.not(id: current_user.id).first.decorate.full_name %>とのチャット</h1>

<div id="messages">
  <%= render @messages %>
</div>

<%= form_with(model: [@room, @message], local: true) do |f| %>
  <%= f.hidden_field :room_id, value: @room.id %>
  <div class="input-group">
    <%= f.text_field :content, class: "form-control", placeholder: "メッセージを入力..." %>
    <%= f.submit "送信", class: "btn btn-primary" %>
  </div>
<% end %>

<%= link_to "チャットルーム一覧に戻る", chat_index_path %>

<% if flash[:alert] %>
  <div class="alert alert-danger">
    <%= flash[:alert] %>
  </div>
<% end %>